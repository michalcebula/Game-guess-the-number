import time
import random
import datetime

print('Welcome to "GUESS THE NUMBER" game')
print('Press ENTER to lunch lottery machine')
input()
random_number = random.randint(1, 1000)
print('drawing a number...')
time.sleep(2)
print('Lottery machine has drawn a number from 1 to 1000')

print('Write a number and press ENTER')
player_number = int(input())
play_time = time.time()
count_tries = int(0)
while True:
    if player_number > random_number:
        print('Your number is too big')
        count_tries += 1
        player_number = int(input())
    elif player_number < random_number:
        print('Your number is too small')
        count_tries += 1
        player_number = int(input())
    elif player_number == random_number:
        print('Congratulations! You guessed the number!')
        count_tries += 1
        break
player_time = (int(time.time() - play_time))
print(f'Your time is {player_time} seconds')
print(f'Your number of tries is: {count_tries}')
print("To save your result please type your name")
player_name = input()
print("Your result is:")
player_result = (f"{player_name}: {player_time} seconds, {count_tries} tries")
date = datetime.datetime.now()
play_date = (date.strftime("%d.%m.%Y %H:%I"))
print(f"{player_result}")
results = open("Results.txt", "a")
results.write(f"{play_date} {player_result}\n")
results.close()
results = open("Results.txt", "r")
print("Results list:")
print(results.read())
time.sleep(1)
